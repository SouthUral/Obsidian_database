[[gRPC]]

# Простой пример

## Сообщение
```proto
syntax = "proto3";

message SearchRequest {
	string query = 1;
	int32 page_number = 2;
	int32 results_per_page = 3;
}
```

 - строчка `syntax = "proto3";` указывает на, что используется синтаксис `proto3`, это должна быть первая непустая строка без комментариев в файле;
 - `SearchRequest`- это сообщение, которое содержит определение 3-х полей с указанием их типа

Каждому полю в `message` нужно указать уникальный номер, они не обязательно должны быть последовательны. Но номер должен быть уникальным для этого сообщения.

>[!warning] Этот номер поля нельзя изменить после его назначения, поскольку это главный идентификатор поля.

В основном можно использовать номера поля 1 - 15 так как эти номера будут занимать всего один байт. Номера полей в диапазоне 16 - 2047 занимают два байта. 

В одном файле можно определить несколько типов сообщений, но не рекомендуется определять в файле много типов сообщений.

## Сервис
Сервис - это набор удаленных методов, доступных клиенту. 
>[!info] 
>Каждый метод может принимать только один параметр, и возвращать только одно значение. Если нужно передать несколько параметров, то их нужно сгруппировать в одном сообщении.


