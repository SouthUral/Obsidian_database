[[Golang]]

Конкурентность является наиболее важной особенностью языка __Go__. Модель конкурентности в __Go__ основана на теории взаимодействующих последовательных процессов ==__Communicating Sequential Processes, CSP__==. Паттерны конкурентного программирования реализованные на основе теории ==CSP==, такие же мощные как и стандартные, но при этом менее сложные для понимания.

>[!info] __Горутина__
>Горутины в Golang - это легковесные процессы, которыми распоряжается среда выполнения языка Go.

При запуске Go-программы  среда выполнения языка Go создает для ее выполнения несколько потоков и запускает одну горутину.  

### Преимущества 
 - Создание горутины занимает меньше времени чем создание потока, поскольку при этом не создается системный ресурс.
 - Исходный размер стека горутин меньше размера стека потоков и может быть увеличен по мере необходимости. Это делает горутины более эффективными в плане использования памяти.
 - Переключение между горутинами занимает меньше времени чем переключение между потоками, поскольку осуществляется полностью внутри процесса, что исключает необходимость выполнения сравнительно медленных системных вызовов.
 - Планировщик может оптимизировать свои решения, поскольку он является частью Go-процесса. 

Горутины принято запускать с помощью замыкания, обертывающего бизнес-логику. При этом замыкание берет на себя всю работу по обеспечению конкурентности.
>[!example]
>Замыкание считывает значения из каналов и передает их бизнес-логике, которая не знает что выполняется в горутине. После этого результат функции записывается обратно в другой канал. Такое разделение обязанностей сделает код модульным и легко тестируемым, исключая конкурентность из  API.
```Go
func process(val int) int {
	// Выполнение действий над переменной val
}

func runThingConcurrently(in <-chan int, out chan<- int) {
	go func() {
		for val := range in {
			result := process(val)
			out <- result
		}
	}()
}
```
